{{ 'image-with-text.css' | asset_url | stylesheet_tag }}

<div class="image-with-text-section">
  <div class="container">
    <div class="image-with-text-section__image-wrapper">
      {%- if section.settings.image != blank -%}
        <picture>
          {%- if section.settings.mobile_image != blank -%}
            <source
                media="(max-width: 699px)"
                srcset="{{ section.settings.mobile_image | image_url: width: 400 }} 400w, {{ section.settings.mobile_image | image_url: width: 600 }} 600w, {{ section.settings.mobile_image | image_url: width: 800 }} 800w, {{ section.settings.mobile_image | image_url: width: 1000 }} 1000w"
                width="{{ section.settings.mobile_image.width }}"
                height="{{ section.settings.mobile_image.height }}"
            >
          {%- endif -%}

          {{- section.settings.image | image_url: width: section.settings.image.width | image_tag: widths: '400,500,600,800,1000,1200,1400,1600,1800,2000,2200,2400,2600,2800,3000', class: 'image-with-text-section__image', sizes: '(max-width: 699px) 100vw, 66.666vw' -}}
        </picture>
      {%- else -%}
        {%- capture placeholder -%}{% cycle 'lifestyle-1', 'lifestyle-2' %}{%- endcapture -%}
        {{- placeholder | placeholder_svg_tag: 'image-with-text-section__image placeholder' -}}
      {%- endif -%}
    </div>

    <div class="image-with-text-section__content">
      {%- if section.settings.title != blank -%}
        <h2 class="image-with-text-section__title">{{ section.settings.title }}</h2>
      {%- endif -%}

      <div class="image-with-text-section__paragraphs">
        {%- assign paragraph_1_stripped = section.settings.paragraph_1 | strip_html | strip -%}
        {%- if paragraph_1_stripped != blank -%}
          <div class="image-with-text-section__paragraph">{{ section.settings.paragraph_1 }}</div>
        {%- endif -%}

        {%- assign paragraph_2_stripped = section.settings.paragraph_2 | strip_html | strip -%}
        {%- if paragraph_2_stripped != blank -%}
          <div class="image-with-text-section__paragraph">{{ section.settings.paragraph_2 }}</div>
        {%- endif -%}
      </div>

      {%- if section.settings.link_text != blank -%}
        <a href="{{ section.settings.link_url }}" class="image-with-text-section__link">{{ section.settings.link_text }}</a>
      {%- endif -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "t:sections.image_with_text.name",
  "class": "shopify-section--image-with-text",
  "tag": "section",
  "disabled_on": {
    "groups": ["header", "custom.overlay"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:global.image.image",
      "info": "t:sections.image_with_text.image_size_recommendation"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "t:global.image.mobile_image",
      "info": "t:sections.image_with_text.mobile_image_size_recommendation"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "label": "Heading",
      "default": "A Better Way to Experience Beauty"
    },
    {
      "type": "richtext",
      "id": "paragraph_1",
      "label": "First paragraph",
      "default": "<p>At BeautyHeaven, we believe beauty should be a luxurious, personal experience. We carefully curate only the finest products from trusted brands worldwide.</p>"
    },
    {
      "type": "richtext",
      "id": "paragraph_2",
      "label": "Second paragraph",
      "default": "<p>Every product is authentic, ethically sourced, and chosen with your skin's health in mind. Our customer-first approach means you always get expert guidance and premium service.</p>"
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link text",
      "default": "OUR STORY"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link URL"
    }
  ],
  "presets": [
    {
      "name": "t:sections.image_with_text.presets.image_with_text.name",
      "category": "t:global.categories.media"
    }
  ]
}
{% endschema %}
